\section{Painting Detection}
	\todo{ook dingen uitleggen die niet werkte}
	\begin{itemize}
		\item \todo{vanishing points}
		\item \todo{hough transformatie}
		\item \todo{lijn intersectie}
		\item \todo{gabor filter}
		\item \todo{local binary patterns}
	\end{itemize}

	\todo{gebruik ook afbeeldingen}
	
	\subsection{Painting Segmentation}
	The first step of the algorithm is the segmentation of an arbitrary video frame to detect a painting. A typical painting contains the art on its own enclosed by a painting frame. This painting frame causes a strong change in environment, increasing the effectiveness of an edge detector. Extracting the edges with the Canny edge detector yields a first indication of where a painting might be. If the full painting frame is visible on the video frame, its contour can be calculated using \cite{SUZUKI198532} which returns a vector of points for each contour. We consider only contours which have four points.
	
	It is possible that multiple paintings exist on a single frame. However, the algorithm's goal is to detect in which room the user is located. Multiple paintings on the same wall belong to the same room. Hence, the algorithm will try the matching procedure in a later phase on one detected painting with the largest surface area. The remaining paintings are ignored but may be the result of the segmentation step in any of the following video frames.
	
	The detected painting is then transformed through a homography to a rectified version which serves as the input of the following stage.
	
	\subsection{Feature Detection}
	
	
	\subsection{Path Tracking}
	Once a painting is identified and matched, it can be localized on the ground plan. To achieve this, the ground plan is converted into a directed graph. The nodes of this graph are the rooms of the museum and the edges define the connections between rooms. When a user starts recording paintings, the matching algorithm will be performed on each frame and a location will be found. The graph is able to mark nodes in three distinct ways. A green node is the start of the path, an orange node is an intermediate path and the blue node is the end of the path. The path ends when the user stops recording. The path direction is also visualized by coloring the corresponding edges green. Note that when a cyclic path occurs which was walked in both directions, information of order is lost.
	
	
	
	
	To illustrate the path tracking algorithm,  a small segment consisting of rooms 1, 2, 3, 4, 5, 6, 7 and 8 are converted into such a graph and is show on figure \ref{fig:groundplan_msk_simple_graph}.
	
	
	%digraph G {
	%	2[fontcolor=white, fillcolor=green, style=filled]	
	%	4[fillcolor=orange, style=filled]
	%	5[fillcolor=orange, style=filled]
	%	7[fillcolor=orange, style=filled]
	%	6[fontcolor=white,fillcolor=blue, style=filled]
	%	1 -> 2
	%	2 -> 1
	%	2 -> 3
	%	2 -> 4[color=green]
	%	2 -> 5
	%	3 -> 2
	%	4 -> 2
	%	4 -> 5[color=green]
	%	4 -> 7
	%	4 -> 8
	%	5 -> 7[color=green]
	%	7 -> 6[color=green]
	%	6 -> 7
	%	7 -> 8
	%	7 -> 5
	%	7 -> 4
	%}

	\begin{figure}
		\includegraphics[width=\linewidth]{groundplan_msk_simple_graph}
		\caption{Path tracking using a graph. The green marks the path's start, orange nodes the visited rooms, and blue the last one visited. Edges in green denote help visualize the path.}
		\label{fig:groundplan_msk_simple_graph}
	\end{figure}
	
	\subsection{Database}
	The database consists of 688 images of various paintings and sculptures in the museum. In this work we only focus on the paintings of this dataset. The paintings were extracted from two different camera's: a Nokia 7 plus and a Samsung A3. Each image also contains the room in which it resides as meta-data.  
	
	To reduce the load time of this database, a prebuilding stage was implemented. This stage reduces each image to a collection of interest points and corresponding descriptors for these interest points as generated by the ORB \cite{Rublee2011} algorithm. 